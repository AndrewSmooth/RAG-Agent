# Процесс производственного планирования

## Определение
Производственное планирование — это процесс определения последовательности, времени начала и окончания производственных операций на рабочих центрах с целью эффективного использования ресурсов и своевременного выполнения заказов.

## Цели производственного планирования
- Максимизация использования производственных мощностей
- Минимизация времени простоя оборудования
- Соблюдение сроков выполнения заказов
- Оптимизация загрузки персонала
- Минимизация времени переналадки оборудования
- Снижение уровня незавершенного производства

## Методы планирования
### 1. Планирование вперед (Forward Scheduling)
- Планирование начинается с текущей даты
- Задачи назначаются как можно раньше
- Подходит для ситуаций, когда важно начать производство как можно скорее

### 2. Планирование назад (Backward Scheduling)
- Планирование начинается с требуемой даты завершения
- Задачи назначаются, отсчитывая время назад от даты завершения
- Подходит для ситуаций, когда важно соблюсти сроки поставки

### 3. Конечное планирование (Finite Scheduling)
- Учитывает реальные ограничения по мощностям
- Не допускает перегрузки рабочих центров
- Более реалистичное, но сложное в расчете

### 4. Бесконечное планирование (Infinite Scheduling)
- Не учитывает ограничения по мощностям
- Может создавать перегрузку ресурсов
- Проще в расчете, используется на этапе предварительного планирования

## Процесс планирования
1. **Сбор данных**
   - Анализ производственных заказов и их приоритетов
   - Проверка наличия материалов (на основе MRP)
   - Проверка доступности оборудования и персонала
   - Учет планового технического обслуживания

2. **Определение маршрута**
   - Выбор оптимального маршрута производства из таблицы [`routing`](rag/knowledge_base/docs/routing.md:1)
   - Учет альтернативных маршрутов при необходимости

3. **Расчет времени**
   - Определение времени выполнения каждой операции на основе данных из таблицы [`operation`](rag/knowledge_base/docs/operation.md:1)
   - Учет времени наладки и переналадки
   - Добавление времени на транспортировку между рабочими центрами

4. **Назначение ресурсов**
   - Назначение рабочих центров и оборудования
   - Назначение персонала
   - Резервирование необходимых инструментов и оснастки

5. **Генерация нарядов-заказов**
   - Создание записей в таблице [`work_order`](rag/knowledge_base/docs/work_order.md:1)
   - Назначение плановых дат начала и окончания
   - Определение приоритета выполнения

6. **Оптимизация**
   - Анализ загрузки рабочих центров
   - Выявление узких мест
   - Корректировка плана для устранения конфликтов

## Пример планирования
Для производственного заказа на 100 единиц продукта X:
1. Из таблицы [`routing`](rag/knowledge_base/docs/routing.md:1) определяем маршрут: операция A → операция B → операция C
2. Из таблицы [`operation`](rag/knowledge_base/docs/operation.md:1) получаем время выполнения:
   - Операция A: 10 минут на единицу, наладка 30 минут
   - Операция B: 15 минут на единицу, наладка 45 минут
   - Операция C: 5 минут на единицу, наладка 20 минут
3. Рассчитываем общее время:
   - Операция A: 30 + (100 × 10) = 1030 минут
   - Операция B: 45 + (100 × 15) = 1545 минут
   - Операция C: 20 + (100 × 5) = 520 минут
4. Учитываем параллельное выполнение и загрузку рабочих центров
5. Генерируем три наряда-заказа с соответствующими плановыми датами

## Применение в системе
Наша ERP-система использует комбинированный подход к производственному планированию:
- **Долгосрочное планирование** (6-12 месяцев): агрегированное планирование на уровне производственных линий
- **Среднесрочное планирование** (1-3 месяца): детальное планирование с учетом конкретных заказов
- **Краткосрочное планирование** (1-4 недели): конечное планирование с назначением конкретных ресурсов

Система автоматически:
- Генерирует предварительный план на основе приоритетов заказов
- Проверяет наличие конфликтов по ресурсам
- Предлагает альтернативные решения при выявлении узких мест
- Обновляет план в реальном времени при изменении условий

## Ключевые показатели эффективности
- **Соблюдение сроков** = (Количество заказов, сданных вовремя / Общее количество заказов) × 100%
- **Загрузка оборудования** = (Фактическое время работы / Доступное время) × 100%
- **Производительность** = (Фактическая скорость / Идеальная скорость) × 100%
- **Коэффициент использования мощности** = (Фактический объем производства / Максимальная мощность) × 100%