# Расчет коэффициента общей эффективности оборудования (OEE)

## Определение
Коэффициент общей эффективности оборудования (Overall Equipment Effectiveness, OEE) — это ключевой показатель эффективности производственного оборудования, который измеряет, насколько эффективно используется производственное оборудование по сравнению с его теоретическим максимальным потенциалом.

## Формула расчета
OEE рассчитывается как произведение трех основных факторов:

**OEE = Доступность × Производительность × Качество**

### 1. Доступность (Availability)
Показывает, какую долю времени оборудование было доступно для работы по сравнению с запланированным временем.

```
Доступность = (Время работы / Запланированное время) × 100%
```

Где:
- **Время работы** = Запланированное время - Время простоев
- **Запланированное время** = Общее время, запланированное для производства (включая плановые остановки)

### 2. Производительность (Performance)
Показывает, насколько быстро оборудование работало по сравнению с его идеальной скоростью.

```
Производительность = (Идеальное время цикла × Произведено единиц) / Время работы × 100%
```

Или альтернативно:
```
Производительность = (Фактическая скорость / Идеальная скорость) × 100%
```

### 3. Качество (Quality)
Показывает долю годной продукции от общего объема произведенной продукции.

```
Качество = (Годная продукция / Общее количество произведенной продукции) × 100%
```

## Пример расчета
Допустим, за смену (8 часов = 480 минут):
- Запланированное время: 480 минут
- Время простоев: 60 минут
- Произведено единиц: 320
- Брак: 12 единиц
- Идеальное время цикла: 1 минута на единицу

1. **Доступность**:
   - Время работы = 480 - 60 = 420 минут
   - Доступность = (420 / 480) × 100% = 87.5%

2. **Производительность**:
   - Идеальное время для 320 единиц = 320 × 1 = 320 минут
   - Производительность = (320 / 420) × 100% = 76.2%

3. **Качество**:
   - Годная продукция = 320 - 12 = 308 единиц
   - Качество = (308 / 320) × 100% = 96.25%

4. **OEE**:
   - OEE = 87.5% × 76.2% × 96.25% = 64.1%

## Интерпретация результатов
- **> 85%**: Отличный результат, мировой класс
- **75-85%**: Хороший результат, есть возможности для улучшения
- **< 60%**: Низкий результат, требует серьезного анализа и улучшений

## Применение в системе
В нашей ERP-системе OEE рассчитывается автоматически на основе данных:
- Из таблицы `maintenance_record` (время простоев)
- Из таблицы `work_order` (фактическое и плановое время)
- Из таблицы `production_order` (количество произведенной и бракованной продукции)
- Из таблицы `operation` (идеальное время цикла)

Показатель OEE используется для:
- Анализа эффективности оборудования
- Выявления узких мест в производстве
- Планирования технического обслуживания
- Оценки эффективности улучшений производства
- Сравнения производительности разных линий и смен